<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sparkle Validator — Validate appcast.xml feeds</title>
    <meta
      name="description"
      content="Validate Sparkle appcast.xml feeds for macOS app updates. Check for errors, warnings, and best practices."
    />

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/icons/favicon-16x16.png"
    />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#0071e3" />

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sparklevalidator.com/" />
    <meta
      property="og:title"
      content="Sparkle Validator — Validate appcast.xml feeds"
    />
    <meta
      property="og:description"
      content="Validate Sparkle appcast.xml feeds for macOS app updates. Check for errors, warnings, and best practices."
    />
    <meta
      property="og:image"
      content="https://sparklevalidator.com/og-image.jpg"
    />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Sparkle Validator — Validate appcast.xml feeds"
    />
    <meta
      name="twitter:description"
      content="Validate Sparkle appcast.xml feeds for macOS app updates. Check for errors, warnings, and best practices."
    />
    <meta
      name="twitter:image"
      content="https://sparklevalidator.com/og-image.jpg"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <img
          src="/icons/android-chrome-192x192.png"
          alt="Sparkle Validator logo"
          class="logo"
          width="80"
          height="80"
        />
        <h1>Sparkle Validator</h1>
        <p>
          Validate your Sparkle appcast.xml feed for errors, warnings, and best
          practices
        </p>
      </header>

      <main>
        <div class="tabs" role="tablist">
          <button
            class="tab-btn active"
            role="tab"
            data-tab="url"
            aria-selected="true"
          >
            From URL
          </button>
          <button
            class="tab-btn"
            role="tab"
            data-tab="upload"
            aria-selected="false"
          >
            Upload File
          </button>
          <button
            class="tab-btn"
            role="tab"
            data-tab="paste"
            aria-selected="false"
          >
            Paste XML
          </button>
        </div>

        <div id="tab-url" class="tab-panel active" role="tabpanel">
          <div class="input-row">
            <input
              type="text"
              id="url-input"
              placeholder="https://example.com/appcast.xml"
            />
            <button id="btn-validate-url" class="btn">
              Fetch &amp; Validate
            </button>
          </div>
          <p class="cors-note">
            Enter the URL to your appcast.xml file. We'll fetch and validate it
            for you.
          </p>
        </div>

        <div id="tab-upload" class="tab-panel" role="tabpanel">
          <input type="file" id="file-input" accept=".xml,.rss,.atom" />
          <div class="actions">
            <button id="btn-validate-upload" class="btn" disabled>
              Validate
            </button>
          </div>
        </div>

        <div id="tab-paste" class="tab-panel" role="tabpanel">
          <textarea
            id="xml-input"
            placeholder="Paste your appcast.xml content here..."
            spellcheck="false"
          ></textarea>
          <div class="actions">
            <button id="btn-validate-paste" class="btn">Validate</button>
          </div>
        </div>

        <div id="results"></div>
      </main>

      <section class="cli-section">
        <h2>Command Line Interface</h2>
        <p>Install the CLI for local validation and CI/CD integration:</p>
        <div class="install-options">
          <div class="install-option">
            <strong>npm</strong>
            <code>npm install -g sparkle-validator</code>
          </div>
          <div class="install-option">
            <strong>Homebrew</strong>
            <code>brew install dweekly/sparkle-validator/sparkle-validator</code>
          </div>
          <div class="install-option">
            <strong>npx (no install)</strong>
            <code>npx sparkle-validator https://example.com/appcast.xml</code>
          </div>
        </div>
        <p class="cli-features">
          Features: <code>--check-urls</code> to verify download links,
          <code>--strict</code> mode, JSON output, stdin support
        </p>
      </section>

      <section class="xsd-section">
        <h2>XSD Schema Validation</h2>
        <p>Use our XSD schema with xmllint for quick validation:</p>
        <code class="block-code">xmllint --schema https://sparklevalidator.com/appcast.xsd --noout your-appcast.xml</code>
        <p>
          <a href="/appcast.xsd">appcast.xsd</a> &middot;
          <a href="/sparkle-appcast.xsd">sparkle-appcast.xsd</a>
        </p>
      </section>

      <footer>
        <p>
          <a href="https://github.com/dweekly/Sparkle-Validator">GitHub</a>
          &middot;
          <a href="https://www.npmjs.com/package/sparkle-validator">npm</a>
          &middot; MIT License
        </p>
        <p class="disclaimer">
          This is an independent community project, not affiliated with the
          official <a href="https://sparkle-project.org/">Sparkle</a> project.
        </p>
        <p class="copyright">
          Copyright 2026 <a href="https://david.weekly.org">David E. Weekly</a>.
          Made with love in California.
        </p>
      </footer>
    </div>

    <script src="app.global.js"></script>
  </body>
</html>
